<!DOCTYPE HTML>
<html lang="en" class="slim-header">
    <head>
        <title>CORS TEST</title>
        <meta charset="utf-8" />
        <link rel="icon" type="image/png" href="images/fav.png">
        <link rel="apple-touch-icon" href="images/fav.png">
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <link rel="stylesheet" href="library/css/actiongolf.css" />
    </head>
    <body>
        <main>
            <header>
                <section>
                    <nav>
                        <!-- <a class="subscribe" title="Subscribe">Subscribe</a>
                        <a class="subscribeauth" title="Subscribe with Authorization">Subscribe with Authorization</a>
                        <a class="verify" title="Verify">Verify</a> -->
                        <a class="verify" title="Verify">Verify</a>
                    </nav>
                </section>
            </header>
            <section>
                <div class="create-form-container">
                    <div class="status">

                    </div>
                </div>
            </section>

            <script
                src="https://code.jquery.com/jquery-3.6.0.min.js"
                integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4="
                crossorigin="anonymous"></script>
            <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.23.0/axios.min.js"></script>
            <script>
                var requestData,
                    auth = 'YWdkZXY6cGFzc3dvcmQ',
                    ajaxUrl= 'https://api.actiongolfers.com/media/upload';

                // requestData = {
                //     "image": $('#fileToUpload').val()
                // };

                // // $.ajax({
                // //     type: "POST",
                // //     url: ajaxUrl,
                // //     contentType: "application/json",
                // //     dataType: "jsonp",

                // //     beforeSend: function (xhr, status) {
                // //         xhr.setRequestHeader ("Authorization", "Basic " + auth);
                // //     },
                // //     success: function(status) {
                // //         $('.status').html('Success');
                // //     }.bind(this),
                // //     error:  function(xhr, status, error) {
                // //         $('.status').html('AJAX Failed - check console for details');
                // //     }.bind(this)
                // // });

                // // axios.post(ajaxUrl, JSON.stringify(requestData), {
                // //     headers: {
                // //     'Content-Type': 'application/json',
                // //     "Authorization": "Basic " + auth
                // //     }
                // //     // other configuration there
                // // })
                // // .then(function (response) {
                // //     $('.status').append('Success');
                // // })
                // // .catch(function (error) {
                // //     $('.status').append('</br> AXIO - Failed - check console for details');
                // // })
                // // ;


                // $('.subscribeauth').on('click', function(){
                //     var requestData = {};
                //     $.ajax({
                //         type: "POST",
                //         url: 'https://beta.actiongolfers.com/subscription/subscribe',
                //         contentType: "application/json",
                //         dataType: "json",
                //         data: JSON.stringify(requestData),
                //         beforeSend: function(xhr) {
                //             xhr.setRequestHeader('Access-Control-Allow-Origin', "https://pramith.com/actiongolf"),
                //             xhr.setRequestHeader ("Authorization", "Basic " + auth)
                //         },
                //         success: function() {
                //             alert('success');
                //         }.bind(this),
                //         error:  function() {
                //             alert('error');
                //         }.bind(this)
                //     });
                // });

                // $('.subscribe').on('click', function(){
                //     var requestData = {};
                //     $.ajax({
                //         type: "POST",
                //         url: 'https://beta.actiongolfers.com/subscription/subscribe',
                //         contentType: "application/json",
                //         dataType: "json",
                //         data: JSON.stringify(requestData),
                //         crossDomain: true,
                //         beforeSend: function(xhr) {
                //             xhr.setRequestHeader('Access-Control-Allow-Origin', "https://pramith.com/actiongolf"),
                //             xhr.setRequestHeader ("Authorization", "Basic " + auth)
                //         },
                //         success: function() {
                //             alert('success');
                //         }.bind(this),
                //         error:  function() {
                //             alert('error');
                //         }.bind(this)
                //     });
                // });





                // $('.verify').on('click', function(){
                //     var requestData = {};
                //     $.ajax({
                //         type: "POST",
                //         url: 'https://beta.actiongolfers.com/auth/verifyRequest',
                //         contentType: "application/json",
                //         dataType: "json",
                //         data: JSON.stringify(requestData),
                //         beforeSend: function(xhr) {
                //             xhr.setRequestHeader('Access-Control-Allow-Origin', "https://pramith.com/actiongolf"),
                //             xhr.setRequestHeader ("Authorization", "Basic " + auth)
                //         },
                //         success: function() {
                //             alert('success');
                //         }.bind(this),
                //         error:  function() {
                //             alert('error');
                //         }.bind(this)
                //     });
                // });

                $('.verify').on('click', function(){
                    // var requestData = {};
                    // $.ajax({
                    //     type: "POST",
                    //     url: 'https://beta.actiongolfers.com/media/upload',
                    //     contentType: "application/json",
                    //     dataType: "json",
                    //     data: JSON.stringify(requestData),
                    //     beforeSend: function(xhr) {
                    //         xhr.setRequestHeader('Access-Control-Allow-Origin', "https://pramith.com/actiongolf"),
                    //         xhr.setRequestHeader ("Authorization", "Basic " + auth)
                    //     },
                    //     success: function() {
                    //         alert('success');
                    //     }.bind(this),
                    //     error:  function() {
                    //         alert('error');
                    //     }.bind(this)
                    // });

                    var request = {
      "callingCode": "+1",
      "phoneNumber": "2065656486",
      "deviceId": "some-device-id"
    }
      var settings = {
        "url": "https://beta.actiongolfers.com/auth/verifyRequest",
        "method": "POST",
        "data": JSON.stringify(request),
        "timeout": 0,
        "headers": {
          "Authorization": "Basic YWdkZXY6cGFzc3dvcmQ=",
          "Content-Type": "application/json",
          "Access-Control-Allow-Origin": "https://pramith.com/actiongolf"
        },
      };

      $.ajax(settings).done(function (response) {
        console.log(response);
      });
                });
            </script>

            <style>
                a {
                    cursor: pointer;
                }
            </style>
        </main>
    </body>
</html>
